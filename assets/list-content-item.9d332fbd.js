import{z as e,A as s,B as t,b as a,C as i,i as r,o as l,g as o,e as n,w as c,f as u,D as m,l as p,E as d,d as f,F as _,h as k,G as w,H as h,I as g,j as v,k as b}from"./index.f9866fe9.js";import{_ as y}from"./uni-icons.2435415a.js";import{r as C}from"./uni-app.es.7d0fb22d.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";const $=e("stars",{state:()=>{let e=[];try{const t=s("favorite");t&&(e=t)}catch(t){}return{stars:e,index:0}},actions:{handleItem(e){this.includes(e)?this.stars.splice(this.index,1):this.stars.push(e),t("favorite",this.stars)},includes(e){let s=!1,t=0;for(let a of this.stars){if(a.id===e.id){this.index=t,s=!0;break}t++}return s}}});var j=x({__name:"list-content-item",props:{item:{type:Object,required:!0}},setup(e,{expose:s}){const t=e;s({name:"list-content-item"});const x=a(!1),j=$(),z=i((()=>j.includes(t.item))),I=i((()=>E(t.item.stargazers_count))),F=i((()=>E(t.item.forks_count))),q=i((()=>t.item.owner.type?(x.value=!0,"组织成员"):"个人账号")),A=()=>{j.handleItem(t.item)},B=()=>{h({url:`/pages/stargazers/stargazers?name=${t.item.owner.login}/${t.item.name}`})},D=()=>{h({url:`/pages/forks/forks?name=${t.item.owner.login}/${t.item.name}`})},E=e=>e<1e3?e:`${(e/1e3).toFixed(1)}k`,G=()=>{h({url:`/pages/web-view/web-view?url=${t.item.owner.html_url}`})},H=()=>{h({url:`/pages/web-view/web-view?url=${t.item.html_url}`})};return(s,t)=>{const a=g,i=v,$=b,j=C(r("uni-icons"),y);return l(),o(_,null,[n($,{class:"user-info"},{default:c((()=>[n($,{class:"left"},{default:c((()=>[n(a,{onClick:G,class:"image",src:e.item.owner.avatar_url,mode:"aspectFit"},null,8,["src"]),n(i,{onClick:H,class:"user one-line"},{default:c((()=>[u(m(e.item.owner.login)+"/"+m(e.item.name),1)])),_:1})])),_:1}),n(i,{class:p(["account-type",{orgClass:x.value}])},{default:c((()=>[u(m(d(q)),1)])),_:1},8,["class"])])),_:1}),e.item.topics.length>0?(l(),f($,{key:0,class:"topic-wrapper"},{default:c((()=>[(l(!0),o(_,null,k(e.item.topics,(e=>(l(),f(i,{class:"topic",key:e,onClick:s=>(e=>{h({url:`/pages/web-view/web-view?url=https://github.com/topics/${e}`})})(e)},{default:c((()=>[u(m(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})):w("",!0),n($,{class:"description"},{default:c((()=>[u(m(e.item.description),1)])),_:1}),n($,{class:"operator"},{default:c((()=>[n(i,{class:"tri-center",onClick:B},{default:c((()=>[u("star: "+m(d(I)),1)])),_:1}),n(i,{class:"tri-center",onClick:D},{default:c((()=>[u("fork: "+m(d(F)),1)])),_:1}),d(z)?(l(),f(j,{key:0,class:"tri-center",color:"red",type:"star-filled",size:"25",onClick:A})):(l(),f(j,{key:1,class:"tri-center",color:"black",type:"star",size:"25",onClick:A}))])),_:1}),n($,{class:"seperator"})],64)}}},[["__scopeId","data-v-4d9be92c"]]);export{j as _,$ as u};
